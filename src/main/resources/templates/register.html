<!doctype html>
<html lang = "en" xmlns:th = "https://www.thymeleaf.org">
    <head>
        <meta charset = "utf-8">
        <meta content = "width=device-width, initial-scale=1" name = "viewport">
        <title>Đăng ký</title>
        <link href = "https://fonts.googleapis.com" rel = "preconnect">
        <link crossorigin href = "https://fonts.gstatic.com" rel = "preconnect">
        <link href = "https://fonts.googleapis.com" rel = "dns-prefetch">
        <link href = "https://fonts.gstatic.com" rel = "dns-prefetch">
        <link crossorigin = "anonymous" href = "https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" integrity = "sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" rel = "stylesheet">
        <link rel = "stylesheet" th:href = "@{/css/common/styles.css}"/>
    </head>
    <body>
        <header th:replace = "~{common/header :: header}"></header>
        <section>
            <div class = "container-fluid h-custom">
                <div class = "row d-flex justify-content-center align-items-center h-100">
                    <div class = "col-md-9 col-lg-6 col-xl-5 text-center">
                        <img alt = "Login Image" class = "img-fluid" decoding = "async" fetchpriority = "high" height = "600px" th:src = "@{/images/auth-image.webp}" width = "600px">
                    </div>
                    <div class = "col-md-8 col-lg-6 col-xl-4 offset-xl-1">
                        <div class = "text-center">
                            <h1>Đăng ký</h1>
                            <br>
                        </div>
                        <div class = "alert alert-success alert-dismissible fade show" role = "alert" th:if = "${success}">
                            <strong>Tạo tài khoản thành công!</strong> <a class = "ms-2" href = "/login">Đăng nhập</a>
                            <button aria-label = "Close" class = "btn-close" data-bs-dismiss = "alert" type = "button"></button>
                        </div>
                        <form method = "post" th:object = "${registerDTO}">
                            <input th:name = "${_csrf.parameterName}" th:value = "${_csrf.token}" type = "hidden"/>
                            <div class = "form-outline mb-4" data-mdb-input-init>
                                <input class = "form-control" placeholder = "Nhập email" th:field = "${registerDTO.email}" type = "text"/>
                                <p th:errorclass = "text-danger" th:errors = "${registerDTO.email}" th:if = "${#fields.hasErrors('email')}"></p>
                            </div>
                            <div class = "form-outline mb-4" data-mdb-input-init>
                                <input class = "form-control" placeholder = "Nhập tên người dùng" th:field = "${registerDTO.username}" type = "text"/>
                                <p th:errorclass = "text-danger" th:errors = "${registerDTO.username}" th:if = "${#fields.hasErrors('username')}"></p>
                            </div>
                            <div class = "form-outline mb-4" data-mdb-input-init>
                                <input class = "form-control" placeholder = "Nhập mật khẩu" th:field = "${registerDTO.password}" type = "password"/>
                                <p th:errorclass = "text-danger" th:errors = "${registerDTO.password}" th:if = "${#fields.hasErrors('password')}"></p>
                            </div>
                            <div class = "form-outline mb-4" data-mdb-input-init>
                                <input class = "form-control" placeholder = "Xác nhận lại mật khẩu" th:field = "${registerDTO.confirmPassword}" type = "password"/>
                                <p th:errorclass = "text-danger" th:errors = "${registerDTO.confirmPassword}" th:if = "${#fields.hasErrors('confirmPassword')}"></p>
                            </div>
                            <div class = "text-center text-lg-start mt-4 pt-2">
                                <button class = "btn btn-primary btn-lg" data-mdb-button-init data-mdb-ripple-init style = "padding-left: 2.5rem; padding-right: 2.5rem;" type = "submit">Đăng ký</button>
                                <p class = "small fw-bold mt-2 pt-1 mb-5">Đã có tài khoản?
                                    <a class = "link-danger" href = "/login">Đăng nhập</a>
                                </p>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </section>
        <footer th:replace = "~{common/footer :: footer}"></footer>
        <script crossorigin = "anonymous" integrity = "sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" src = "https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    </body>
</html>